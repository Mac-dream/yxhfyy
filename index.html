<!DOCTYPE html>
<html>
<head>
    <title>悠享恢复预约系统</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* 移动端字体优化调整 */
        @media screen and (max-width: 600px) {
            body {
                font-size: 24px !important;  /* 基础字体调整为1.5倍 */
            }
            
            .container {
                padding: 30px !important;    /* 容器内边距微调 */
            }
            
            input, 
            select,
            button {
                padding: 15px !important;    /* 输入框内边距缩小 */
            }
        }

        /* 原有样式保留 */
        .container {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            font-size: 16px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input, select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
        }
        .form-actions {
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }
        button {
            padding: 10px 20px;
            border: none;
            cursor: pointer;
        }
        #successAlert {
            display: none;
            background: #d4edda;
            color: #155724;
            padding: 15px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>服务预约</h2>
        <form id="bookForm">
            <!-- 调整字段顺序 -->
            <div class="form-group">
                <label for="userName">姓名</label>
                <input type="text" id="userName" required>
            </div>
            <div class="form-group">
                <label for="userPhone">手机号</label>
                <input type="tel" id="userPhone" 
                    pattern="1[3-9]\d{9}" required>
            </div>
            <div class="form-group">
                <label for="bookingDate">预约日期</label>
                <input type="date" id="bookingDate" required 
                    min="2025-05-12" max="2025-12-31">
            </div>
            <div class="form-group">
                <label for="timeSlot">时间段</label>
                <select id="timeSlot" required>
                    <option value="">请选择时间段</option>
                </select>
            </div>
            <div class="form-actions">
                <button type="submit">提交预约</button>
                <button type="button" id="resetBtn">重置表单</button>
            </div>
        </form>
        <div id="successAlert">预约成功！</div>
    </div>

    <script>
        // 保持原有JavaScript不变
        const generateTimeSlots = () => {
            const select = document.getElementById('timeSlot');
            select.innerHTML = '<option value="">请选择时间段</option>';
            
            for(let hour=18; hour<22; hour++){
                for(let minute=0; minute<60; minute+=15){
                    const start = `${hour}:${minute.toString().padStart(2,'0')}`;
                    const end = minute === 45 ? `${hour+1}:00` : `${hour}:${(minute+15).toString().padStart(2,'0')}`;
                    select.add(new Option(`${start}-${end}`, `${start}-${end}`));
                }
            }
        }

        const resetForm = () => {
            document.getElementById('bookForm').reset();
            generateTimeSlots();
            document.getElementById('successAlert').style.display = 'none';
        }

        const handleSubmit = (e) => {
            e.preventDefault();
            
            const bookingData = {
                date: document.getElementById('bookingDate').value,
                name: document.getElementById('userName').value,
                phone: document.getElementById('userPhone').value,
                time: document.getElementById('timeSlot').value,
                timestamp: new Date().getTime()
            };

            const records = JSON.parse(localStorage.getItem('yuexiang') || '[]');
            const isDuplicate = records.some(item => 
                item.phone === bookingData.phone && 
                item.date === bookingData.date
            );

            if(!isDuplicate){
                records.push(bookingData);
                localStorage.setItem('yuexiang', JSON.stringify(records));
                document.getElementById('successAlert').style.display = 'block';
                setTimeout(() => resetForm(), 2000);
            }else{
                alert('您当天已有预约记录');
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            generateTimeSlots();
            document.getElementById('bookForm').addEventListener('submit', handleSubmit);
            document.getElementById('resetBtn').addEventListener('click', resetForm);
        });
    </script>
</body>
</html>
